{% extends "base.html" %}
{% load truncate_filters_extra %}

{% block title %}{{ block.super }} | Latest Content{% endblock title %}

{% block main_content %}
<ul class="content_list">
{% for item in content_items %}
    <li>
    <div class="img_container">
    <a href="{% url content.views.view item.full_path|slice:"1:" %}">
    {% if item.metadata.types.original.thumbnail %}
    <img src="{% url content.views.download item.metadata.types.original.thumbnail %}"/>
    {% else %}
    <img src="{{ MEDIA_URL }}images/question.png"/>
    {% endif %}
    </a>
    </div>
    <a href="{% url content.views.view item.full_path|slice:"1:" %}">
    <span class="title">{{ item.metadata.title|truncate_chars:15 }}</span>
    </a><br>
    <span class="timeago">{{ item.timestamp|timesince }} ago </span><br>
    {{ item.username }} <br>
    </li>
{% empty %}
    <li>No content!</li>
{% endfor %}
</ul>

<br />

<div style = 'float: left'>
    {% if next_start %}
    <a href="{% url content.views.browse next_start %}">Older</a>
    {% endif %}
</div>

<div style = 'float: right'>
    {% if prev_start %}
    <a href="{% url content.views.browse prev_start %}">Newer</a>
    {% endif %}
</div>

<div style = 'clear: both'></div>

<br />
Show
<a href="{% url content.views.browse start %}?count=25">25</a>,
<a href="{% url content.views.browse start %}?count=50">50</a>,
<a href="{% url content.views.browse start %}?count=100">100</a>
items.

{% endblock main_content %}
